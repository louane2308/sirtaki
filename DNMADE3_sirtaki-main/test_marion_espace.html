<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

		<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
		<script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>

		<script>
		  AFRAME.registerComponent('alpha', {
			dependencies: ['material'],
			init: function () {
			  this.el.getObject3D('mesh').material.alphaTest = 0.5;
			}
		  });
		</script>

  </head>

  <body style='margin : 0px; overflow: hidden;'>

		<a-scene background="color: skyblue">
			<a-assets>
    			<a-asset-item id="glbLoic" src="./assets/models/loic_marion.glb"></a-asset-item>
				<img id="map" src="./assets/marion/map.jpg">
				<img id="mosquee" src="./assets/marion/mosquee_light.png">
				<img id="gare" src="./assets/marion/gare_light.png">
				<img id="immeuble" src="./assets/marion/immeuble_light.png">
				<img id="eglise" src="./assets/marion/eglise_light.png">
				<!-- <img id="img360" src="./assets/marion/monastiraki.jpg"> -->
			</a-assets>

			<!-- ECLAIRAGES -->
			<a-entity light="type: ambient; color: #FFF; intensity: 0.8"></a-entity>
			<a-entity light="type: directional; castShadow:true; intensity: 0.5" position="-1 2 1"></a-entity>

			<a-entity  id ="model3D"
					   position="-1 0 -4"
					   gltf-model="#glbLoic"
					   rotation="90 0 90"
					   scale="1 1 1"
                       loaded
					   animation-mixer="clip: pas_02;crossFadeDuration: 0.3; timeScale: 1">
            </a-entity>

			<!-- <a-plane src="#map" rotation="-90 0 0" height="20" width="20"></a-plane> -->
			<a-plane color="#CCC" rotation="-90 0 0" height="20" width="20"></a-plane>

			<a-plane id="pmosquee" src="#mosquee" alpha
					 position="-0.8 1.9 -7" rotation="0 45 0"
					 height="4.5" width="6">
			</a-plane>
			<a-plane id="pgare" src="#gare" alpha scale="1 1 1"
		 					 position="2.931 2.170 -3.289" rotation="1.35 -27.13 1.35"
		 					 height="4.5" width="6">
			</a-plane>
			<a-plane id="pimmeuble" src="#immeuble" alpha scale="1.33 1.33 1.33"
							 position="4 2.533 1.389" rotation="7.150 -116.94 -1.25"
							 height="4.5" width="6">
			</a-plane>
			<a-plane id="peglise" src="#eglise" alpha scale="1 1 1"
							 position="-2.718 2.086 2.913" rotation="-3.9 90 2.68"
							 height="4.5" width="6">
			</a-plane>
			<!-- <a-sky src="#img360" rotation="0 90 0"></a-sky> -->

  			<a-camera></a-camera>
		</a-scene>

  </body>
</html>
